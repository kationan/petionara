<div class=""> 
    <div id="default-carousel" class="relative w-full" data-carousel="slide">
        <!-- Carousel wrapper -->
        <div class="relative h-56 overflow-hidden rounded-t-lg md:h-96">
            <!-- Item 1 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
                <img src="/images/carousel/carousel1.jpeg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
            </div>
            <!-- Item 2 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
                <img src="/images/carousel/carousel2.jpeg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                <h1>Text blabla</h1>
            </div>
            <!-- Item 3 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
                <img src="/images/carousel/carousel3.jpeg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
            </div>
            <!-- Item 4 -->
            {{-- <div class="hidden duration-700 ease-in-out" data-carousel-item>
                <img src="/docs/images/carousel/carousel-4.svg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
            </div>
            <!-- Item 5 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
                <img src="/docs/images/carousel/carousel-5.svg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
            </div> --}}
        </div>
        <!-- Slider indicators -->
        <div class="absolute z-30 flex space-x-3 -translate-x-1/2 bottom-5 left-1/2">
            <button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
            <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
            <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 3" data-carousel-slide-to="2"></button>
            <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 4" data-carousel-slide-to="3"></button>
            <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 5" data-carousel-slide-to="4"></button>
        </div>
        <!-- Slider controls -->
        <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
            <span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                <span class="sr-only">Previous</span>
            </span>
        </button>
        <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
            <span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                <span class="sr-only">Next</span>
            </span>
        </button>
    </div>
    <div class="grid grid-cols-1 place-items-center bg-orange-500">
        <P class="text-white text-2xl uppercase">Un village, une histoire</P>
    </div>
    <div class="shadow-xl">
        <div class="md:grid md:grid-cols-2 mt-4">
            <div class="border-black p-6">
                <h2 class="text-center text-green-700 text-3xl mb-1">
                    Histoire du village
                </h2>
                <p> <span class="text-3xl">L</span>orem ipsum dolor, 
                    sit amet consectetur adipisicing elit. Maiores eaque nihil quaerat.
                     Maxime odit quae magnam nulla nemo iure? Quam facere aut reiciendis! Nihil 
                     quia quasi repellendus obcaecati molestiae voluptatibus.
                     Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quis sunt enim id voluptatibus illum provident. Provident, 
                     enim, similique quisquam labore porro architecto doloremque minus neque ipsam sunt 
                     distinctio corporis possimus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores expedita neque beatae, animi laborum dolorum provident eligendi perspiciatis doloribus, iusto odio quidem molestias quas nihil quos consequatur sunt doloremque hic.
                     Lorem, ipsum dolor sit amet consectetur adipisicing elit. Et amet commodi nemo nisi tempore odio non illo debitis dolores saepe dignissimos dolore enim, minus facilis nostrum, optio iure vero magni!
                     cliquer <a href="">ici</a> pour lire plus
                </p>
            </div>
            
            <div class="">
                <iframe class="w-full" src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d3946.71117135076!2d-5.11645052533529!3d8.429998891609337!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfr!2sci!4v1685137843159!5m2!1sfr!2sci"  height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </div>
    <div class="shadow-xl">
        <div class="md:grid md:grid-cols-2 mt-4">
            <div class="bg-gray-50 p-0">
                <h2 class="text-center text-gray-600 text-3xl mt-3">Associations et vie villageoise</h2>
                <div class="wrapper p-6">
                    <i id="left" class="fa-solid fa-angle-left"></i>
                    <ul class="carousel">
                      <li class="card border-white border-4 shadow-lg">
                        <div class="img"><img src="images/projets/user_emoticone.jpg" alt="img" ></div>
                        <h2 class="text-red-500">MUDEPE</h2>
                        <span class="text-center">Mutuelle de Dévéloppement de Petionara</span>
                      </li>
                      <li class="card border-white border-4 shadow-lg">
                        <div class="img"><img src="images/projets/user_emoticone.jpg" alt="img" draggable="false"></div>
                        <h2 class="text-red-500">A2ESP</h2>
                        <span class="text-center">Association des Elèves et Etudiants de Petionara</span>
                      </li>
                      <li class="card border-white border-4 shadow-lg">
                        <div class="img"><img src="images/projets/user_emoticone.jpg" alt="img" draggable="false"></div>
                        <h2 class="text-red-500">LADEME</h2>
                        <span class="text-center">Association des femmes du village</span>
                      </li>
                    
                    </ul>
                    <i id="right" class="fa-solid fa-angle-right"></i>
                  </div>
            </div>
            <div class="p-6">
                <h2 class="text-center text-green-700 text-3xl mb-1">
                    Nos valeurs culturelles
                </h2>
                <p> <span class="text-3xl">L</span>orem ipsum dolor, 
                    sit amet consectetur adipisicing elit. Maiores eaque nihil quaerat.
                     Maxime odit quae magnam nulla nemo iure? Quam facere aut reiciendis! Nihil 
                     quia quasi repellendus obcaecati molestiae voluptatibus.
                     Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quis sunt enim id voluptatibus illum provident. Provident, 
                     enim, similique quisquam labore porro architecto doloremque minus neque ipsam sunt 
                     distinctio corporis possimus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores expedita neque beatae, animi laborum dolorum provident eligendi perspiciatis doloribus, iusto odio quidem molestias quas nihil quos consequatur sunt doloremque hic.
                     Lorem, ipsum dolor sit amet consectetur adipisicing elit. Et amet commodi nemo nisi tempore odio non illo debitis dolores saepe dignissimos dolore enim, minus facilis nostrum, optio iure vero magni!
                     cliquer <a href="">ici</a> pour lire plus
                </p>
            </div>
        </div>
    </div>
    <div class="p-7 h-24 mt-4 text-center">
        <h1 class="text-4xl uppercase">Infrastructures</h1>
    </div>
    <div class="shadow-xl">
        <div class="md:grid md:grid-cols-2 mt-4 md:content-center mb-0">
            <div class="p-6">
                <h2 class="text-center text-green-700 text-3xl mb-1">
                    Un dispensaire rural
                </h2>
                <p> <span class="text-3xl">L</span>orem ipsum dolor, 
                    sit amet consectetur adipisicing elit. Maiores eaque nihil quaerat.
                     Maxime odit quae magnam nulla nemo iure? Quam facere aut reiciendis! Nihil 
                     quia quasi repellendus obcaecati molestiae voluptatibus.
                     Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quis sunt enim id voluptatibus illum provident. Provident, 
                     enim, similique quisquam labore porro architecto doloremque minus neque ipsam sunt 
                     distinctio corporis possimus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores expedita neque beatae, animi laborum dolorum provident eligendi perspiciatis doloribus, iusto odio quidem molestias quas nihil quos consequatur sunt doloremque hic.
                     Lorem, ipsum dolor sit amet consectetur adipisicing elit. Et amet commodi nemo nisi tempore odio non illo debitis dolores saepe dignissimos dolore enim, minus facilis nostrum, optio iure vero magni!
                     cliquer <a href="">ici</a> pour lire plus
                </p>
            </div>

            <div class=" float bg-gray-50 p-0">
                <div class="">
                    <div class="md:float-center pl-4 md:relative justify-center">
                        <iframe class="w-full" height="315" src="https://www.youtube.com/embed/vhRZjiTAJmA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                    <div class="md:float-left mt-4 pl-4 md:relative">
                        {{-- <img src="images/projets/college_title.jpg" alt="Collège Moderne de Petionara"> --}}
                        <h5 class="md:absolute 
                        backdrop-opacity-10 backdrop-invert bg-white/30
                        bottom-0
                        text-center md:text-2xl mt-3">Collège Moderne de Pétionara</h5>
                        <img src="images/projets/college_moderne_petionara.jpg" alt="Collège Moderne de Petionara">
                    </div>
                    <div class="md:float-left pl-4 relative mt-4">
                        <h5 class=" md:absolute text-center md:text-white backdrop-opacity-10 
                        backdrop-invert bg-white/30 md:text-xl bottom-0">Inauguration de la troisième école primaire</h5>
                        <img src="images/projets/troisieme_ecole_primaire_petionara.jpg" alt="Collège Moderne de Petionara">
                    </div>
                    <div class="md:float-left pl-4 relative mt-4">
                        <h5 class=" md:absolute text-center md:text-white backdrop-opacity-10 
                        backdrop-invert bg-white/30 md:text-xl bottom-0">Inauguration de la troisième école primaire</h5>
                        <img src="images/projets/ecole_primaire1_.jpg" alt="Collège Moderne de Petionara">
                    </div>
                  </div>
            </div>
        </div>
    </div>
</div>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');


.wrapper {
  /* max-width: 1100px; */
  width: 100%;
  position: relative;
}
.wrapper i {
  top: 50%;
  height: 50px;
  width: 50px;
  cursor: pointer;
  font-size: 1.25rem;
  position: absolute;
  text-align: center;
  line-height: 50px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 3px 6px rgba(0,0,0,0.23);
  transform: translateY(-50%);
  transition: transform 0.1s linear;
}
.wrapper i:active{
  transform: translateY(-50%) scale(0.85);
}
.wrapper i:first-child{
  left: 6px;
}
.wrapper i:last-child{
  right: 15px;
}
.wrapper .carousel{
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: calc((100% / 3) - 12px);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  gap: 16px; 
  border-radius: 8px;
  scroll-behavior: smooth;
  scrollbar-width: none;
}
.carousel::-webkit-scrollbar {
  display: none;
}
.carousel.no-transition {
  scroll-behavior: auto;
}
.carousel.dragging {
  scroll-snap-type: none;
  scroll-behavior: auto;
}
.carousel.dragging .card {
  cursor: grab;
  user-select: none;
}
.carousel :where(.card, .img) {
  display: flex;
  justify-content: center;
  align-items: center;
}
.carousel .card {
  scroll-snap-align: start;
  height: 342px;
  list-style: none;
  background: #fff;
  cursor: pointer;
  padding-bottom: 15px;
  flex-direction: column;
  border-radius: 8px;
}
.carousel .card .img {
  background: #009432;
  height: 148px;
  width: 148px;
  border-radius: 50%;
}
.card .img img {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid #fff;
}
.carousel .card h2 {
  font-weight: 500;
  font-size: 1.56rem;
  margin: 30px 0 5px;
}
.carousel .card span {
  color: #6A6D78;
  font-size: 1.31rem;
}
@media screen and (max-width: 900px) {
  .wrapper .carousel {
    grid-auto-columns: calc((100% / 2) - 9px);
  }
}
@media screen and (max-width: 600px) {
  .wrapper .carousel {
    grid-auto-columns: 100%;
  }
}
</style>
<script>
    const wrapper = document.querySelector(".wrapper");
const carousel = document.querySelector(".carousel");
const firstCardWidth = carousel.querySelector(".card").offsetWidth;
const arrowBtns = document.querySelectorAll(".wrapper i");
const carouselChildrens = [...carousel.children];

let isDragging = false, isAutoPlay = true, startX, startScrollLeft, timeoutId;

// Get the number of cards that can fit in the carousel at once
let cardPerView = Math.round(carousel.offsetWidth / firstCardWidth);

// Insert copies of the last few cards to beginning of carousel for infinite scrolling
carouselChildrens.slice(-cardPerView).reverse().forEach(card => {
    carousel.insertAdjacentHTML("afterbegin", card.outerHTML);
});

// Insert copies of the first few cards to end of carousel for infinite scrolling
carouselChildrens.slice(0, cardPerView).forEach(card => {
    carousel.insertAdjacentHTML("beforeend", card.outerHTML);
});

// Scroll the carousel at appropriate postition to hide first few duplicate cards on Firefox
carousel.classList.add("no-transition");
carousel.scrollLeft = carousel.offsetWidth;
carousel.classList.remove("no-transition");

// Add event listeners for the arrow buttons to scroll the carousel left and right
arrowBtns.forEach(btn => {
    btn.addEventListener("click", () => {
        carousel.scrollLeft += btn.id == "left" ? -firstCardWidth : firstCardWidth;
    });
});

const dragStart = (e) => {
    isDragging = true;
    carousel.classList.add("dragging");
    // Records the initial cursor and scroll position of the carousel
    startX = e.pageX;
    startScrollLeft = carousel.scrollLeft;
}

const dragging = (e) => {
    if(!isDragging) return; // if isDragging is false return from here
    // Updates the scroll position of the carousel based on the cursor movement
    carousel.scrollLeft = startScrollLeft - (e.pageX - startX);
}

const dragStop = () => {
    isDragging = false;
    carousel.classList.remove("dragging");
}

const infiniteScroll = () => {
    // If the carousel is at the beginning, scroll to the end
    if(carousel.scrollLeft === 0) {
        carousel.classList.add("no-transition");
        carousel.scrollLeft = carousel.scrollWidth - (2 * carousel.offsetWidth);
        carousel.classList.remove("no-transition");
    }
    // If the carousel is at the end, scroll to the beginning
    else if(Math.ceil(carousel.scrollLeft) === carousel.scrollWidth - carousel.offsetWidth) {
        carousel.classList.add("no-transition");
        carousel.scrollLeft = carousel.offsetWidth;
        carousel.classList.remove("no-transition");
    }

    // Clear existing timeout & start autoplay if mouse is not hovering over carousel
    clearTimeout(timeoutId);
    if(!wrapper.matches(":hover")) autoPlay();
}

const autoPlay = () => {
    if(window.innerWidth < 800 || !isAutoPlay) return; // Return if window is smaller than 800 or isAutoPlay is false
    // Autoplay the carousel after every 2500 ms
    timeoutId = setTimeout(() => carousel.scrollLeft += firstCardWidth, 2500);
}
autoPlay();

carousel.addEventListener("mousedown", dragStart);
carousel.addEventListener("mousemove", dragging);
document.addEventListener("mouseup", dragStop);
carousel.addEventListener("scroll", infiniteScroll);
wrapper.addEventListener("mouseenter", () => clearTimeout(timeoutId));
wrapper.addEventListener("mouseleave", autoPlay);
</script>



